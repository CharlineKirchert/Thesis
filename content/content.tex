\makeatletter
\def\input@path{{../}}
\makeatother
\documentclass[../thesis.tex]{subfiles}

\resources % search for graphics in ../res/imgs/

\begin{document}

\chapter{Content}\label{chap:prelim}
This is the content of the thesis. Write sections, subsections etc. Structure
the biggest parts into chapters. Do not forget to cite~\cite{alanturing}.

\section{Section}\label{sec:mc}
\begin{definition}[Light]
  Let there be light\ldots
\end{definition}

\subsection{Subsection}
\begin{figure}
\centering
\begin{tikzpicture}[->,shorten >=1pt,node distance=3cm,on grid,auto]
	\node[state,initial,label=$\{{\color{red}red}\}$] (c_r) {$c_0$};
	\node[state,label=0:{$\{{\color{red}red}, {\color{orange}orange}\}$},below of=c_r] (c_or) {$c_1$};
	\node[state,label=0:$\{{\color[rgb]{0,0.8,0.2}green}\}$,below of=c_or] (c_g) {$c_2$};
	\node[state,label=180:{$\{{\color{orange}orange}\}$},left=2cm of c_or] (c_o) {$c_3$};
  
	\node[state,initial,right=6cm of c_r,label=0:$\{{\color{red}red}\}$] (p_r) {$p_0$};
	\node[state,below of=p_r,label=0:$\{{\color[rgb]{0,0.8,0.2}green}\}$] (p_g) {$p_1$};
  \path[->]
    (c_r) edge node {\texttt{cars\_go}} (c_or)
    (c_or) edge  (c_g)
    (c_g) edge  (c_o)
    (c_o) edge node {\texttt{cars\_stop}}(c_r)
    (p_r) edge [bend left=20] node {\texttt{cars\_stop}} (p_g)
    (p_g) edge [bend left=20] node {\texttt{cars\_go}} (p_r)
	;
\end{tikzpicture}
\caption[Shorter caption for LoF.]{This caption will appear right by the diagram.}\label{fig:semaphores}
\end{figure}

\begin{example}
  This is where you would write an example.
\end{example}

And if you have to include some code, use lstlisting with a minipage to center
it like so:
\begin{center}
  \begin{minipage}{7cm}
\begin{lstlisting}[caption=GCL program with assertion instead of error location.,label=lst:bmcorig,mathescape=true]
  [x := 2]$^0$;
  while [x > 0]$^1$ do
      [x := x - 1]$^2$
    []
      [x := x + 1]$^3$
  od;
  assert [x $\geq$ 0]$^4$;
\end{lstlisting}
  \end{minipage}
\end{center}

\biblio
\end{document}
